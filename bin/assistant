#!/usr/bin/env php
<?php

declare(strict_types=1);

require __DIR__ . '/../vendor/autoload.php';

use Symfony\Component\Config\FileLocator;
use Symfony\Component\DependencyInjection\ContainerBuilder;
use Symfony\Component\DependencyInjection\Loader\YamlFileLoader;
use Symfony\Component\Dotenv\Dotenv;

$dotenv = new Dotenv();
$dotenv->load(__DIR__ . '/../.env.defaults', __DIR__ . '/../.env');

$container = new ContainerBuilder;
$yamlLoader = new YamlFileLoader($container, new FileLocator(__DIR__ . '/../config'));
$yamlLoader->load('services.yaml');
$container->compile(true);

$app = $container->get('application');
$app->run();